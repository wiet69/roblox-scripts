local Library = {}
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

-- Modern Color Palette
local Theme = {
    Primary = Color3.fromRGB(32, 33, 36),      -- Dark background
    Secondary = Color3.fromRGB(40, 41, 45),    -- Lighter elements
    Accent = Color3.fromRGB(138, 180, 255),    -- Bright blue accent
    Accent2 = Color3.fromRGB(255, 125, 203),   -- Pink accent
    Text = Color3.fromRGB(255, 255, 255),
    TextDark = Color3.fromRGB(175, 175, 175),
    Error = Color3.fromRGB(255, 97, 97),
    Success = Color3.fromRGB(87, 255, 154)
}

-- Sleek animations
local function CreateTween(instance, properties, duration)
    return TweenService:Create(
        instance,
        TweenInfo.new(duration or 0.3, Enum.EasingStyle.Quart, Enum.EasingDirection.Out),
        properties
    )
end

function Library:CreateWindow(title)
    local GUI = Instance.new("ScreenGui")
    local MainFrame = Instance.new("Frame")
    MainFrame.Size = UDim2.new(0, 600, 0, 400)
    MainFrame.Position = UDim2.new(0.5, -300, 0.5, -200)
    MainFrame.BackgroundColor3 = Theme.Primary
    
    -- Add glass blur effect
    local Blur = Instance.new("BlurEffect")
    Blur.Size = 10
    Blur.Parent = game:GetService("Lighting")
    
    -- Stylish top bar with gradient
    local TopBar = Instance.new("Frame")
    TopBar.Size = UDim2.new(1, 0, 0, 35)
    local Gradient = Instance.new("UIGradient")
    Gradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Theme.Accent),
        ColorSequenceKeypoint.new(1, Theme.Accent2)
    })
    Gradient.Parent = TopBar
    
    -- Modern tab system
    local TabContainer = Instance.new("Frame")
    TabContainer.Size = UDim2.new(0, 150, 1, -35)
    TabContainer.Position = UDim2.new(0, 0, 0, 35)
    TabContainer.BackgroundColor3 = Theme.Secondary
    
    -- Add glass effect to tabs
    local GlassEffect = Instance.new("ImageLabel")
    GlassEffect.BackgroundTransparency = 0.9
    GlassEffect.Image = "rbxassetid://4641149554"
    GlassEffect.ImageTransparency = 0.85
    
    -- Content area with modern shadows
    local ContentArea = Instance.new("Frame")
    ContentArea.Size = UDim2.new(1, -150, 1, -35)
    ContentArea.Position = UDim2.new(0, 150, 0, 35)
    ContentArea.BackgroundColor3 = Theme.Primary
    
    -- Add shadow
    local Shadow = Instance.new("ImageLabel")
    Shadow.Image = "rbxassetid://5554236805"
    Shadow.ImageColor3 = Color3.fromRGB(0,0,0)
    Shadow.ImageTransparency = 0.4
    Shadow.Size = UDim2.new(1.1, 0, 1.1, 0)
    Shadow.Position = UDim2.new(-0.05, 0, -0.05, 0)
    Shadow.BackgroundTransparency = 1
    Shadow.Parent = MainFrame
    
    -- Fancy corner rounding
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 10)
    Corner.Parent = MainFrame
    
    -- Add smooth hover animations for all interactive elements
    local function AddHoverEffect(button)
        button.MouseEnter:Connect(function()
            CreateTween(button, {BackgroundColor3 = Theme.Accent}):Play()
        end)
        button.MouseLeave:Connect(function()
            CreateTween(button, {BackgroundColor3 = Theme.Secondary}):Play()
        end)
    end
    
    -- Create modern elements
    function Library:CreateTab(name)
        local TabButton = Instance.new("TextButton")
        TabButton.Size = UDim2.new(1, -20, 0, 40)
        TabButton.BackgroundColor3 = Theme.Secondary
        TabButton.Text = name
        TabButton.TextColor3 = Theme.Text
        TabButton.Font = Enum.Font.GothamBold
        AddHoverEffect(TabButton)
        
        -- Add ripple effect
        TabButton.MouseButton1Down:Connect(function()
            local Ripple = Instance.new("Frame")
            Ripple.Size = UDim2.new(0, 0, 0, 0)
            Ripple.BackgroundColor3 = Theme.Accent
            Ripple.BackgroundTransparency = 0.6
            CreateTween(Ripple, {Size = UDim2.new(1, 0, 1, 0)}):Play()
        end)
        
        return TabButton
    end
    
    -- Modern toggle with animation
    function Library:CreateToggle(text)
        local Toggle = Instance.new("Frame")
        local ToggleButton = Instance.new("TextButton")
        ToggleButton.Size = UDim2.new(0, 50, 0, 25)
        ToggleButton.BackgroundColor3 = Theme.Secondary
        
        local ToggleCircle = Instance.new("Frame")
        ToggleCircle.Size = UDim2.new(0, 21, 0, 21)
        ToggleCircle.BackgroundColor3 = Theme.Text
        
        -- Smooth toggle animation
        local toggled = false
        ToggleButton.MouseButton1Click:Connect(function()
            toggled = not toggled
            CreateTween(ToggleCircle, {
                Position = toggled and UDim2.new(1, -23, 0.5, -10) or UDim2.new(0, 2, 0.5, -10),
                BackgroundColor3 = toggled and Theme.Success or Theme.Text
            }):Play()
        end)
    end
    
    -- Modern slider with glow
    function Library:CreateSlider(min, max)
        local Slider = Instance.new("Frame")
        local SliderBar = Instance.new("Frame")
        SliderBar.Size = UDim2.new(1, -20, 0, 4)
        SliderBar.BackgroundColor3 = Theme.Secondary
        
        local SliderFill = Instance.new("Frame")
        SliderFill.Size = UDim2.new(0.5, 0, 1, 0)
        SliderFill.BackgroundColor3 = Theme.Accent
        
        -- Add glow effect
        local Glow = Instance.new("ImageLabel")
        Glow.Image = "rbxassetid://5554236805"
        Glow.ImageColor3 = Theme.Accent
        Glow.ImageTransparency = 0.7
        Glow.Size = UDim2.new(1.2, 0, 1.2, 0)
    end
    
    return Library
end

return Library
